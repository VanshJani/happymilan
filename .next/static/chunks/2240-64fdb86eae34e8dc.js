(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2240],{82240:function(e,t,i){"use strict";i.r(t);var n=i(85893),a=i(25675),s=i.n(a),r=i(67294),l=i(95714),o=i(50228),h=i(2664),d=i(47041),c=i(78490),x=i(45887),p=i(77085),g=i(45755),u=i(43728),m=i(66833),w=i(58401);t.default=function(){let{details:e}=(0,h.v9)(e=>e.user),{darkMode:t,toggleDarkMode:i}=(0,o.v)(),a={color:t?"#FFF":"#000",fontFamily:"Poppins",fontStyle:"normal",fontWeight:"600",lineHeight:"normal"},[v,f]=(0,r.useState)(""),y=(0,h.I0)();(0,r.useEffect)(()=>{f((0,d.getCookie)("authtoken")),y((0,g.r3)())},[]);let[b,j]=(0,r.useState)(!1),[C,D]=r.useState(!1),N=()=>{R(!1),D(!0)},[F,R]=(0,r.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-full h-full grid place-items-center",children:(0,n.jsxs)("div",{className:"xl:w-[631px] w-full",children:[(0,n.jsx)("div",{className:"bg-custom-gradient xl:w-[631px] w-full h-[138px] rounded-[10px]",children:(0,n.jsx)("div",{className:"w-full h-full flex justify-center",children:(0,n.jsx)("div",{onClick:()=>R(!0),className:"cursor-pointer translate-y-10",children:v?(0,n.jsx)(n.Fragment,{children:(null==e?void 0:e.profilePic)?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s(),{loading:"lazy",alt:"userProfile",width:184,height:184,className:" rounded-[50%] mt-[5px] lg:mt-0 w-[80px] h-[80px] md:w-[100px] md:h-[100px] lg:w-[184px] lg:h-[184px] 2xl:w-[184px] 2xl:h-[184px] xl:w-[160px] xl:h-[160px]",src:e.profilePic,style:{objectFit:"cover"}})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.ZP,{name:(0,d.getCookie)("userName"),size:"184",round:!0})})}):(0,n.jsx)(l.ZP,{name:(0,d.getCookie)("userName"),size:"180",round:!0})})})}),(0,n.jsx)("div",{className:"mt-[90px]",children:(0,n.jsxs)("div",{className:"pb-[10px]",children:[(0,n.jsx)("ul",{className:"text-center space-y-[20px]",children:(0,n.jsx)("li",{children:e&&(null==e?void 0:e.name)?(0,n.jsx)("h1",{style:a,className:"dark:text-[#FFF] text-[18px] md:text-[20px] lg:text-[20px] xl:text-[20px] 2xl:text-[24px]",children:null==e?void 0:e.name}):(0,n.jsx)("h1",{style:a,className:"dark:text-[#FFF] text-[18px] md:text-[20px] lg:text-[20px] xl:text-[20px] 2xl:text-[24px]",children:"NA"})})}),(0,n.jsx)(m.default,{data:e})]})}),(0,n.jsxs)("div",{className:"space-y-[20px] mt-[27px]",children:[(0,n.jsx)("div",{children:(0,n.jsx)(x.default,{})}),(0,n.jsx)("div",{children:(0,n.jsx)(p.default,{})}),(0,n.jsx)("div",{children:(0,n.jsx)(w.default,{})})]})]})}),(0,n.jsx)(c.default,{handleClose:()=>D(!1),handleOpen:N,setOpenProfileModal:D,openProfileModal:C}),(0,n.jsx)(u.Z,{Wsize:347,Hsize:450,isOpen:F,onClose:()=>R(!1),children:(0,n.jsxs)("div",{style:{width:"347px",height:"450px",position:"relative",borderRadius:"10px"},children:[(0,n.jsx)(s(),{style:{borderRadius:"10px"},layout:"fill",objectFit:"cover",alt:"profile",src:null==e?void 0:e.profilePic}),(0,n.jsx)("div",{className:"z-10 absolute bottom-6 grid place-items-center w-full",children:(0,n.jsxs)("ul",{className:" flex space-x-[19px]",children:[(0,n.jsx)("li",{onClick:N,className:"w-[38px] h-[38px] grid place-items-center bg-[#ffffff] rounded-full",children:(0,n.jsx)(s(),{alt:"editIcon",width:18,height:18,src:t?"/assests/dashboard/icon/edit-details-icon-white.svg":"/assests/dashboard/icon/edit-details-icon.svg"})}),(0,n.jsx)("li",{onClick:()=>console.log(""),className:"w-[38px] h-[38px] bg-[white] rounded-full grid place-items-center",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,n.jsx)("path",{d:"M3.21326 13.7097C2.82684 13.7097 2.49772 13.5738 2.22589 13.302C1.95407 13.0302 1.81817 12.701 1.81817 12.3146V1.61881H0.954529V0.755173H4.40907V0.0908203H9.59089V0.755173H13.0454V1.61881H12.1818V12.3146C12.1818 12.7121 12.0487 13.044 11.7824 13.3103C11.5161 13.5766 11.1842 13.7097 10.7867 13.7097H3.21326ZM11.3182 1.61881H2.6818V12.3146C2.6818 12.4696 2.73163 12.597 2.83128 12.6966C2.93092 12.7963 3.05825 12.8461 3.21326 12.8461H10.7867C10.9196 12.8461 11.0414 12.7907 11.1521 12.68C11.2628 12.5693 11.3182 12.4475 11.3182 12.3146V1.61881ZM5.10661 11.1188H5.97027V3.34608H5.10661V11.1188ZM8.0297 11.1188H8.89335V3.34608H8.0297V11.1188Z",fill:"black"})})})]})})]})})]})}},58401:function(e,t,i){"use strict";i.r(t);var n=i(85893),a=i(25675),s=i.n(a),r=i(67294),l=i(50228),o=i(2664),h=i(26642),d=i(49298),c=i(45755);t.default=function(){var e;let{darkMode:t}=(0,l.v)(),[i,a]=(0,r.useState)(!1),{details:x}=(0,o.v9)(e=>e.user),[p,g]=(0,r.useState)([]),u={color:"#000",textAlign:"center",fontFamily:"Poppins",fontSize:"14px",fontStyle:"normal",fontWeight:"600",lineHeight:"normal"},[m,w]=(0,r.useState)({hobbies:[]});(0,r.useEffect)(()=>{w(e=>({hobbies:p}))},[p]);let v=(0,o.I0)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"space-y-[20px] w-full ".concat(i?"h-[250px]":"h-[168px]"," rounded-[10px] border-[1px] border-[#F1F1F1] pl-[20px] pr-[20px] pt-[10px] "),children:[(0,n.jsx)("div",{children:(0,n.jsxs)("ul",{className:"flex justify-between items-center",children:[(0,n.jsx)("li",{children:(0,n.jsx)("p",{children:"Hobbies & Interests"})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"cursor-pointer w-[37px] h-[37px] dark:hover:bg-[#252525] hover:bg-[#F0F9FF] rounded-[50%] flex items-center justify-center",children:i?(0,n.jsx)(s(),{loading:"lazy",alt:"modifyIcon",width:15,height:15,onClick:()=>a(!i),src:t?"/assests/profile/cross-edit-icon-white.svg":"/assests/profile/cross-edit-icon.svg"}):(0,n.jsx)(s(),{alt:"editIcon",width:20,height:20,onClick:()=>a(!i),src:t?"/assests/dashboard/icon/edit-details-icon-white.svg":"/assests/dashboard/icon/edit-details-icon.svg"})})})]})}),(0,n.jsx)("div",{className:"w-full h-[1px] bg-[#F1F1F1]"}),i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsxs)("div",{style:{width:"100%"},children:[(0,n.jsx)("p",{style:{color:"#000",fontFamily:"Poppins",fontSize:"14px",fontStyle:"normal",fontWeight:"400",lineHeight:"normal"},children:"Purpose"}),(0,n.jsx)(d.Z,{options:[{value:"reading",label:"Reading"},{value:"traveling",label:"Traveling"},{value:"cooking",label:"Cooking"},{value:"sports",label:"Sports"},{value:"music",label:"Music"},{value:"gaming",label:"Gaming"},{value:"photography",label:"Photography"},{value:"art",label:"Art"},{value:"gardening",label:"Gardening"},{value:"dancing",label:"Dancing"}],setSelectedValues:g})]})}),(0,n.jsx)("div",{className:"grid place-items-end w-full mt-5",children:(0,n.jsx)("button",{onClick:()=>{v((0,c.ek)(m)),a(!1)},className:"w-[100px] h-[40px] rounded-[20px] bg-custom-gradient text-[#FFF] hover:opacity-75",children:"Update"})})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsx)("ul",{className:"flex space-x-[15px]",children:null==x?void 0:null===(e=x.hobbies)||void 0===e?void 0:e.map((e,t)=>(0,n.jsx)("li",{className:"p-[10px] pl-[15px] pr-[15px] rounded-full bg-[#F2F2F2] text-[#000]",style:u,children:(0,h.f)(e)},t))})})})]})})}},66833:function(e,t,i){"use strict";i.r(t);var n=i(85893),a=i(25675),s=i.n(a);i(67294);var r=i(26642),l=i(16196),o=i(2664);t.default=function(e){var t,i,a;let{data:h}=e,{details:d}=(0,o.v9)(e=>e.user),c={fontFamily:"Poppins",fontStyle:"normal",fontWeight:"400",lineHeight:"normal"},x={fontFamily:"Poppins",fontStyle:"normal",fontWeight:"600",lineHeight:"normal"};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"my-4 pb-[10px]",children:(0,n.jsxs)("ul",{className:"flex justify-center items-center space-x-[20px] md:space-x-[40px] lg:space-x-[40px] xl:space-x-[40px] 2xl:space-x-[40px]",children:[(0,n.jsx)("li",{children:(0,n.jsxs)("div",{className:"flex items-center space-x-[10px]",children:[(0,n.jsx)(s(),{loading:"lazy",alt:"heartIcon",width:16,height:14,src:"/assests/dashboard/icon/heart-icon.svg"}),(0,n.jsxs)("h1",{style:x,id:"live-count",className:"dark:text-[#FFF] text-[12px] md:text-[14px] lg:text-[14px] 2xl:text-[14px] xl:text-[13px]",children:[0,(0,n.jsx)("span",{style:c,className:"pl-[5px] text-[14px] text-[#8B8B8B]",children:" Likes "})]})]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("div",{className:"flex items-center space-x-[10px]",children:[(0,n.jsx)(s(),{loading:"lazy",alt:"upIcon",width:14,height:14,src:"/assests/dashboard/icon/up-arrow.svg"}),(0,n.jsxs)("h1",{style:x,className:"dark:text-[#FFF] text-[12px] md:text-[14px] lg:text-[14px] 2xl:text-[14px] xl:text-[13px]",children:[0,(0,n.jsx)("span",{style:c,className:"pl-[5px] text-[14px] text-[#8B8B8B]",children:"Sent"})]})]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("div",{className:"flex items-center space-x-[10px]",children:[(0,n.jsx)(s(),{loading:"lazy",alt:"downIcon",width:14,height:14,src:"/assests/dashboard/icon/down-arrow.svg"}),(0,n.jsxs)("h1",{style:x,className:"dark:text-[#FFF] text-[12px] md:text-[14px] lg:text-[14px] 2xl:text-[14px] xl:text-[13px]",children:[0,(0,n.jsx)("span",{style:c,className:"pl-[5px] text-[14px] text-[#8B8B8B]",children:"Received"})]})]})})]})}),(0,n.jsx)("div",{className:"h-[1px] w-full bg-[#EDEDED]"}),(0,n.jsxs)("div",{className:"w-full pt-[10px]",children:[(0,n.jsxs)("ul",{className:"translate-x-[10px] w-full flex justify-center items-center space-x-[8px] md:space-x-[50px]",children:[(0,n.jsx)("li",{className:"",children:(0,n.jsx)("div",{className:"flex items-center space-x-[10px]",children:(0,n.jsxs)("h1",{style:c,className:"dark:text-[#FFF] lg:text-[12px] md:text-[12px] text-[11px]",children:[(null==h?void 0:h.gender)?(0,r.f)(null==h?void 0:h.gender):"NA","\xa0,\xa0",(0,l.Z)(null==h?void 0:h.dateOfBirth)||"NA"]})})}),(0,n.jsx)("li",{className:"",children:(0,n.jsxs)("div",{className:"flex items-center space-x-[10px]",children:[(0,n.jsx)(s(),{loading:"lazy",alt:"bagIcon",width:14,height:12,src:"/assests/dashboard/icon/bag-icon.svg"}),(0,n.jsx)("h1",{style:c,className:"dark:text-[#FFF] lg:text-[12px] md:text-[12px] text-[11px]",children:(0,r.f)(null==d?void 0:null===(t=d.datingData[0])||void 0===t?void 0:t.Occupation)||"NA"})]})}),(0,n.jsx)("li",{className:"",children:(0,n.jsxs)("div",{className:"flex items-center space-x-[10px]",children:[(0,n.jsx)(s(),{loading:"lazy",alt:"loactionIcon",width:10,height:12,src:"/assests/dashboard/icon/location-icon.svg"}),(0,n.jsxs)("h1",{style:c,className:"dark:text-[#FFF] lg:text-[12px] md:text-[12px] text-[11px]",children:[(0,r.f)(null==d?void 0:null===(i=d.datingData[0])||void 0===i?void 0:i.Ethnicity)||"NA"," , ",(0,r.f)(null==d?void 0:null===(a=d.datingData[0])||void 0===a?void 0:a.CurrentlyLiving)||""]})]})})]}),(0,n.jsx)("div",{className:"text-center pt-[13px]",children:(0,n.jsx)("p",{className:"dark:text-[#FFF] text-[12px] lg:text-[14px] md:text-[14px] 2xl:text-[14px] xl:text-[12px]",style:c,children:(0,r.f)(null==h?void 0:h.writeBoutYourSelf)||"About yourSelf"})})]})]})}},78490:function(e,t,i){"use strict";i.r(t);var n=i(85893),a=i(75277),s=i(87357),r=i(76517);t.default=e=>{let{handleClose:t,handleOpen:i,setOpenProfileModal:l,openProfileModal:o,setModalOpen:h,updateAvatar:d,closeModal:c}=e;return(0,n.jsx)(a.Z,{open:o,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsx)(s.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"45%",height:"574px",outline:"none",bgcolor:"background.paper",borderRadius:"10px",boxShadow:24,p:4},children:(0,n.jsx)(r.default,{updateAvatar:d,closeModal:c,setModalOpen:h,handleClose:t})})})}},45262:function(e,t,i){"use strict";i.r(t),t.default=(e,t,i)=>{{let n=t.getContext("2d");if(!n){console.error("Canvas context is not available");return}let a=window.devicePixelRatio,s=e.naturalWidth/e.width,r=e.naturalHeight/e.height;t.width=Math.floor(i.width*s*a),t.height=Math.floor(i.height*r*a),n.scale(a,a),n.imageSmoothingQuality="high",n.save();let l=i.x*s,o=i.y*r;n.translate(-l,-o),n.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,e.naturalWidth,e.naturalHeight),n.restore()}}},76517:function(e,t,i){"use strict";i.r(t);var n=i(85893),a=i(67294),s=i(82084);i(77929);var r=i(2664),l=i(45687),o=i(45262);t.default=e=>{let{setModalOpen:t,handleClose:i,closeModal:h,updateAvatar:d}=e,c=(0,a.useRef)(null),x=(0,a.useRef)(null),[p,g]=(0,a.useState)(""),[u,m]=(0,a.useState)({aspect:1,unit:"%",width:150,height:150}),[w,v]=(0,a.useState)(""),[f,y]=(0,a.useState)(),[b,j]=(0,a.useState)(!0),C=e=>{var t;e.target.files.length>0&&j(!1);let i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!i)return;let n=new FileReader;n.addEventListener("load",()=>{var e;URL.createObjectURL(i),y(i),i.type,i.name,i.size;let t=new Image,a=(null===(e=n.result)||void 0===e?void 0:e.toString())||"";t.src=a,t.addEventListener("load",e=>{w&&v("");let{naturalWidth:t,naturalHeight:i}=e.currentTarget;if(t<150||i<150)return v("Image must be at least 150 x 150 pixels."),g("")}),g(a)}),n.readAsDataURL(i)},D=(0,r.I0)(),N=(0,r.v9)(e=>e.usersact.profileimageupdate);return(0,a.useEffect)(()=>{N.process&&(i(),D((0,l.O1)()))},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"grid place-items-center",children:(0,n.jsx)("div",{className:"2xl:w-[540px]  xl:w-[540px]  w-[90%]",children:(0,n.jsxs)("ul",{className:"flex justify-between",children:[(0,n.jsx)("li",{children:(0,n.jsx)("h1",{className:"",style:{fontFamily:"Poppins",fontSize:"18px",fontStyle:"normal",fontWeight:"500",lineHeight:"normal"},children:"Upload Photo"})}),(0,n.jsx)("li",{children:(0,n.jsx)("img",{alt:"close-icon",className:"w-[24px] h-[24px] cursor-pointer",onClick:i,src:"/assests/social/close.svg"})})]})})}),b&&(0,n.jsx)("div",{className:"grid place-items-center",children:(0,n.jsx)("label",{htmlFor:"dropzone-file",children:(0,n.jsx)("div",{className:"relative top-[40px] rounded-[10px] grid place-items-center 2xl:w-[540px] 2xl:h-[400px] xl:w-[540px] xl:h-[325px] md:w-[300px] w-[90%] h-[325px] md:h-[325px]  bg-[#F5F5F5]",children:(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("input",{id:"dropzone-file",className:"cursor-pointer opacity-0 absolute",type:"file",accept:"image/*",onChange:C}),(0,n.jsx)("div",{className:"w-full grid place-items-center mt-[-10%] mb-[10%]",children:(0,n.jsx)("img",{src:"/loginassests/register-icons/Drag-Drop.svg"})}),(0,n.jsx)("h1",{className:"text-[15px] lg:text-[20px]",style:{color:"#000",textAlign:"center",fontFamily:"Poppins",fontStyle:"normal",fontWeight:"400",lineHeight:"32px"},children:"Upload Image"})]})})})}),w&&(0,n.jsx)("p",{className:"text-red-400 text-xs",children:w}),p&&(0,n.jsxs)("div",{className:"grid place-items-center relative top-[40px]",children:[(0,n.jsxs)("div",{className:"2xl:w-[540px] 2xl:h-[325px] xl:w-[540px] xl:h-[325px] w-[90%] h-[325px] bg-[#000] rounded-[10px]",children:[(0,n.jsx)("div",{className:"grid place-items-center",children:(0,n.jsx)(s.ZP,{crop:u,onChange:(e,t)=>m(t),circularCrop:!0,keepSelection:!0,aspect:1,minWidth:150,children:(0,n.jsx)("img",{ref:c,src:p,alt:"Upload",style:{maxHeight:"325px"},onLoad:e=>{let{width:t,height:i}=e.currentTarget,n=150/t*100,a=(0,s.YG)({unit:"%",width:n},1,t,i),r=(0,s._H)(a,t,i);m(r)}})})}),(0,n.jsx)("div",{className:"text-center pt-[20px]",children:(0,n.jsx)("h1",{style:{color:"#606060",fontFamily:"Poppins",fontSize:"10px",fontStyle:"normal",fontWeight:"400",lineHeight:"normal"},children:"Adjust the round object to set your photo"})})]}),(0,n.jsxs)("div",{className:"flex justify-center relative top-[80px] space-x-[30px]",children:[(0,n.jsxs)("button",{className:"cursor-pointer w-[125px] h-[49px] rounded-[10px]  bg-[#FFF] border-[1px] border-[black]",children:[(0,n.jsx)("input",{className:"cursor-pointer w-[100px] opacity-0 absolute",type:"file",accept:"image/*",onChange:C}),"Change"]}),(0,n.jsxs)("button",{id:"grad-button",className:"cursor-pointer w-[125px] h-[49px] rounded-[10px]",onClick:()=>{(0,o.default)(c.current,x.current,(0,s.BB)(u,c.current.width,c.current.height));let e=x.current;e.toBlob(e=>{if(e){let t=URL.createObjectURL(e),i={key:f.name,contentType:f.type,data:t},n={size:e.size,type:e.type,blob:URL.createObjectURL(e)};D((0,l.Fb)(i,n))}},"image/jpeg")},children:["Upload",N.loading?(0,n.jsx)("img",{alt:"loader",width:25,height:25,className:" w-[25px] h-[25px] animate-spin inline relative left-[5px]",src:"/assests/animation/loaderIcon.svg"}):""]})]})]}),(0,n.jsx)("canvas",{ref:x,style:{display:"none"},width:150,height:150})]})}},16196:function(e,t){"use strict";t.Z=function(e){let t=new Date(e),i=new Date,n=i.getFullYear()-t.getFullYear(),a=i.getMonth()-t.getMonth();return(a<0||0===a&&i.getDate()<t.getDate())&&n--,n}},77929:function(){},82084:function(e,t,i){"use strict";i.d(t,{BB:function(){return c},YG:function(){return o},ZP:function(){return u},_H:function(){return h}});var n=i(67294);let a={x:0,y:0,width:0,height:0,unit:"px"},s=(e,t,i)=>Math.min(Math.max(e,t),i),r=(...e)=>e.filter(e=>e&&"string"==typeof e).join(" "),l=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function o(e,t,i,n){let a=c(e,i,n);return e.width&&(a.height=a.width/t),e.height&&(a.width=a.height*t),a.y+a.height>n&&(a.height=n-a.y,a.width=a.height*t),a.x+a.width>i&&(a.width=i-a.x,a.height=a.width/t),"%"===e.unit?d(a,i,n):a}function h(e,t,i){let n=c(e,t,i);return n.x=(t-n.width)/2,n.y=(i-n.height)/2,"%"===e.unit?d(n,t,i):n}function d(e,t,i){return"%"===e.unit?{...a,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/i*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/i*100:0}}function c(e,t,i){return e.unit?"px"===e.unit?{...a,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*i/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*i/100:0}:{...a,...e,unit:"px"}}function x(e,t,i,n,a,s=0,r=0,l=n,o=a){let h={...e},d=Math.min(s,n),c=Math.min(r,a),x=Math.min(l,n),p=Math.min(o,a);t&&(t>1?(c=(d=r?r*t:d)/t,x=l*t):(d=(c=s?s/t:c)*t,p=o/t)),h.y<0&&(h.height=Math.max(h.height+h.y,c),h.y=0),h.x<0&&(h.width=Math.max(h.width+h.x,d),h.x=0);let g=n-(h.x+h.width);g<0&&(h.x=Math.min(h.x,n-d),h.width+=g);let u=a-(h.y+h.height);if(u<0&&(h.y=Math.min(h.y,a-c),h.height+=u),h.width<d&&(("sw"===i||"nw"==i)&&(h.x-=d-h.width),h.width=d),h.height<c&&(("nw"===i||"ne"==i)&&(h.y-=c-h.height),h.height=c),h.width>x&&(("sw"===i||"nw"==i)&&(h.x-=x-h.width),h.width=x),h.height>p&&(("nw"===i||"ne"==i)&&(h.y-=p-h.height),h.height=p),t){let e=h.width/h.height;if(e<t){let e=Math.max(h.width/t,c);("nw"===i||"ne"==i)&&(h.y-=e-h.height),h.height=e}else if(e>t){let e=Math.max(h.height*t,d);("sw"===i||"nw"==i)&&(h.x-=e-h.width),h.width=e}}return h}let p={capture:!0,passive:!1},g=class e extends n.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,n.createRef)(),this.mediaRef=(0,n.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:t,disabled:i}=this.props,n=this.getBox();if(!t)return;let a=c(t,n.width,n.height);if(i)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let s=e.target.dataset.ord,r=e.clientX,l=e.clientY,o=a.x,h=a.y;if(s){let t=e.clientX-n.x,i=e.clientY-n.y,d=0,c=0;"ne"===s||"e"==s?(d=t-(a.x+a.width),c=i-a.y,o=a.x,h=a.y+a.height):"se"===s||"s"===s?(d=t-(a.x+a.width),c=i-(a.y+a.height),o=a.x,h=a.y):"sw"===s||"w"==s?(d=t-a.x,c=i-(a.y+a.height),o=a.x+a.width,h=a.y):("nw"===s||"n"==s)&&(d=t-a.x,c=i-a.y,o=a.x+a.width,h=a.y+a.height),r=o+n.x+d,l=h+n.y+c}this.evData={startClientX:r,startClientY:l,startCropX:o,startCropY:h,clientX:e.clientX,clientY:e.clientY,isResize:!!s,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:t,disabled:i,locked:n,keepSelection:a,onChange:s}=this.props,r=this.getBox();if(i||n||a&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let l=e.clientX-r.x,o=e.clientY-r.y,h={unit:"px",x:l,y:o,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:l,startCropY:o,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(c(h,r.width,r.height),d(h,r.width,r.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let t;let{crop:i,disabled:n,onChange:a,onDragStart:s}=this.props,r=this.getBox();if(n||!i||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,s&&s(e));let{evData:o}=this;o.clientX=e.clientX,o.clientY=e.clientY,l(i,t=o.isResize?this.resizeCrop():this.dragCrop())||a(c(t,r.width,r.height),d(t,r.width,r.height))},this.onComponentKeyDown=t=>{let{crop:i,disabled:n,onChange:a,onComplete:r}=this.props;if(n)return;let l=t.key,o=!1;if(!i)return;let h=this.getBox(),x=this.makePixelCrop(h),p=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===l?(x.x-=p,o=!0):"ArrowRight"===l?(x.x+=p,o=!0):"ArrowUp"===l?(x.y-=p,o=!0):"ArrowDown"===l&&(x.y+=p,o=!0),o){t.cancelable&&t.preventDefault(),x.x=s(x.x,0,h.width-x.width),x.y=s(x.y,0,h.height-x.height);let e=c(x,h.width,h.height),i=d(x,h.width,h.height);a(e,i),r&&r(e,i)}},this.onHandlerKeyDown=(t,i)=>{let{aspect:n=0,crop:a,disabled:s,minWidth:r=0,minHeight:o=0,maxWidth:h,maxHeight:p,onChange:g,onComplete:u}=this.props,m=this.getBox();if(s||!a||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let w=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,v=c(a,m.width,m.height),f=function(e,t,i,n){let a={...e};return"ArrowLeft"===t?"nw"===n?(a.x-=i,a.y-=i,a.width+=i,a.height+=i):"w"===n?(a.x-=i,a.width+=i):"sw"===n?(a.x-=i,a.width+=i,a.height+=i):"ne"===n?(a.y+=i,a.width-=i,a.height-=i):"e"===n?a.width-=i:"se"===n&&(a.width-=i,a.height-=i):"ArrowRight"===t&&("nw"===n?(a.x+=i,a.y+=i,a.width-=i,a.height-=i):"w"===n?(a.x+=i,a.width-=i):"sw"===n?(a.x+=i,a.width-=i,a.height-=i):"ne"===n?(a.y-=i,a.width+=i,a.height+=i):"e"===n?a.width+=i:"se"===n&&(a.width+=i,a.height+=i)),"ArrowUp"===t?"nw"===n?(a.x-=i,a.y-=i,a.width+=i,a.height+=i):"n"===n?(a.y-=i,a.height+=i):"ne"===n?(a.y-=i,a.width+=i,a.height+=i):"sw"===n?(a.x+=i,a.width-=i,a.height-=i):"s"===n?a.height-=i:"se"===n&&(a.width-=i,a.height-=i):"ArrowDown"===t&&("nw"===n?(a.x+=i,a.y+=i,a.width-=i,a.height-=i):"n"===n?(a.y+=i,a.height-=i):"ne"===n?(a.y+=i,a.width-=i,a.height-=i):"sw"===n?(a.x-=i,a.width+=i,a.height+=i):"s"===n?a.height+=i:"se"===n&&(a.width+=i,a.height+=i)),a}(v,t.key,w,i),y=x(f,n,i,m.width,m.height,r,o,h,p);if(!l(a,y)){let e=d(y,m.width,m.height);g(y,e),u&&u(y,e)}},this.onDocPointerDone=e=>{let{crop:t,disabled:i,onComplete:n,onDragEnd:a}=this.props,s=this.getBox();this.unbindDocMove(),!(i||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(e),n&&n(c(t,s.width,s.height),d(t,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var t;null==(t=this.componentRef.current)||t.scrollTo(0,0)}}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:i,width:n,height:a}=e.getBoundingClientRect();return{x:t,y:i,width:n,height:a}}componentDidUpdate(e){let{crop:t,onComplete:i}=this.props;if(i&&!e.crop&&t){let{width:e,height:n}=this.getBox();e&&n&&i(c(t,e,n),d(t,e,n))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,p),this.document.addEventListener("pointerup",this.onDocPointerDone,p),this.document.addEventListener("pointercancel",this.onDocPointerDone,p),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,p),this.document.removeEventListener("pointerup",this.onDocPointerDone,p),this.document.removeEventListener("pointercancel",this.onDocPointerDone,p),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,t=this.getBox(),i=this.makePixelCrop(t),n=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return i.x=s(e.startCropX+n,0,t.width-i.width),i.y=s(e.startCropY+a,0,t.height-i.height),i}getPointRegion(e,t,i,n){let a;let{evData:s}=this,r=s.clientX-e.x,l=s.clientY-e.y;return a=n&&t?"nw"===t||"n"===t||"ne"===t:l<s.startCropY,(i&&t?"nw"===t||"w"===t||"sw"===t:r<s.startCropX)?a?"nw":"sw":a?"ne":"se"}resolveMinDimensions(e,t,i=0,n=0){let a=Math.min(i,e.width),s=Math.min(n,e.height);return t&&(a||s)?t>1?a?[a,a/t]:[s*t,s]:s?[s*t,s]:[a,a/t]:[a,s]}resizeCrop(){let{evData:t}=this,{aspect:i=0,maxWidth:n,maxHeight:a}=this.props,r=this.getBox(),[l,o]=this.resolveMinDimensions(r,i,this.props.minWidth,this.props.minHeight),h=this.makePixelCrop(r),d=this.getPointRegion(r,t.ord,l,o),c=t.ord||d,p=t.clientX-t.startClientX,g=t.clientY-t.startClientY;(l&&"nw"===c||"w"===c||"sw"===c)&&(p=Math.min(p,-l)),(o&&"nw"===c||"n"===c||"ne"===c)&&(g=Math.min(g,-o));let u={unit:"px",x:0,y:0,width:0,height:0};"ne"===d?(u.x=t.startCropX,u.width=p,i?u.height=u.width/i:u.height=Math.abs(g),u.y=t.startCropY-u.height):"se"===d?(u.x=t.startCropX,u.y=t.startCropY,u.width=p,i?u.height=u.width/i:u.height=g):"sw"===d?(u.x=t.startCropX+p,u.y=t.startCropY,u.width=Math.abs(p),i?u.height=u.width/i:u.height=g):"nw"===d&&(u.x=t.startCropX+p,u.width=Math.abs(p),i?(u.height=u.width/i,u.y=t.startCropY-u.height):(u.height=Math.abs(g),u.y=t.startCropY+g));let m=x(u,i,d,r.width,r.height,l,o,n,a);return i||e.xyOrds.indexOf(c)>-1?h=m:e.xOrds.indexOf(c)>-1?(h.x=m.x,h.width=m.width):e.yOrds.indexOf(c)>-1&&(h.y=m.y,h.height=m.height),h.x=s(h.x,0,r.width-h.width),h.y=s(h.y,0,r.height-h.height),h}createCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:i,locked:a,renderSelectionAddon:s,ruleOfThirds:r,crop:l}=this.props,o=this.getCropStyle();if(l)return n.createElement("div",{style:o,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!i&&!a&&n.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},n.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),n.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),n.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),n.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),n.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),n.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),n.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),n.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),n.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),n.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),n.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),n.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),s&&n.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:e=>e.stopPropagation()},s(this.state)),r&&n.createElement(n.Fragment,null,n.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),n.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){let t={...a,...this.props.crop||{}};return c(t,e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:i,className:a,crop:s,disabled:l,locked:o,style:h,ruleOfThirds:d}=this.props,{cropIsActive:c,newCropIsBeingDrawn:x}=this.state,p=s?this.createCropSelection():null,g=r("ReactCrop",a,c&&"ReactCrop--active",l&&"ReactCrop--disabled",o&&"ReactCrop--locked",x&&"ReactCrop--new-crop",s&&e&&"ReactCrop--fixed-aspect",s&&i&&"ReactCrop--circular-crop",s&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",i&&"ReactCrop--no-animate");return n.createElement("div",{ref:this.componentRef,className:g,style:h},n.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),p)}};g.xOrds=["e","w"],g.yOrds=["n","s"],g.xyOrds=["nw","ne","se","sw"],g.nudgeStep=1,g.nudgeStepMedium=10,g.nudgeStepLarge=100,g.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let u=g}}]);