"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[677],{10677:function(e,t,l){l.r(t),l.d(t,{default:function(){return N}});var s=l(85893),i=l(67294),r=l(77533),a=l(83501),n=l(9581),o=l(25675),d=l.n(o),c=l(70554),x=l(47041),p=l(78454),h=l(32512),u=l(2664),m=l(7354),g=l(45687),v=l(40908),f=l(88078),j=l(63048),y=l(77484);let w=e=>async t=>{t({type:y.jLs});let s=(0,x.getCookie)("userid"),i=(0,x.getCookie)("authtoken"),r=l(97218),a=JSON.stringify({statusId:null==e?void 0:e.id,viewerId:s});r.request({method:"post",maxBodyLength:1/0,url:"".concat("https://stag.mntech.website/api","/v1/user/story-view/create-view"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},data:a}).then(e=>{console.log(JSON.stringify(e.data)),t({type:y.SMV})}).catch(e=>{t({type:y.R68}),console.log(e)})},b=e=>async t=>{t({type:y.uqe});let s=l(97218),i=(0,x.getCookie)("authtoken"),r={method:"get",maxBodyLength:1/0,url:"".concat("https://stag.mntech.website/api","/v1/user/story-view/paginated/").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}};s.request(r).then(e=>{console.log(JSON.stringify(e.data)),t({type:y.Bcb,payload:e.data.data})}).catch(e=>{console.log(e),t({type:y.pzG})})};var N=(0,u.$j)(e=>({formData:e.form.formData}),{updateFormData:m.Zv})(function(e){let{formData:t,updateFormData:l}=e,o=(0,u.I0)(),{loading:m,data:y,mystory:N}=(0,u.v9)(e=>e.usersact.UsersStorydata),[F,k]=(0,i.useState)(!1),S=(0,i.useRef)(null),C=e=>{S.current&&!S.current.contains(e.target)&&k(!1)};(0,i.useEffect)(()=>(document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}),[]),(0,i.useEffect)(()=>{o((0,g._l)())},[]);let[L,z]=(0,i.useState)({storyViewType:"",Data:null}),[P,D]=i.useState({right:!1}),R=(e,t)=>l=>{D({...P,[e]:t})},U=(e,t)=>{let l=e.currentTarget.getAttribute("name");switch(l){case"currentUser":o(b(null==t?void 0:t.id));break;case"users-story":o(w(t));break;default:console.log("Other User ViewStory")}z({storyViewType:l,Data:t}),D({...P,right:!0})},[I,W]=i.useState(!1),[H,M]=(0,i.useState)(),[O,Z]=(0,i.useState)(1),A=(0,u.v9)(e=>e.usersact.StoryUpload);A.modalClose&&(W(!1),Z(1),o((0,g.k$)()));let B=(0,u.v9)(e=>e.form.formData.uploadStory),[T,E]=(0,i.useState)({size:null,type:null,blob:null}),[V,_]=(0,i.useState)(""),[Y,q]=(0,i.useState)("");(0,i.useEffect)(()=>{_((0,x.getCookie)("userName")),q((0,x.getCookie)("authtoken"))},[]);let[J,G]=(0,i.useState)(!1),[$,Q]=(0,i.useState)(""),K=(0,i.useCallback)(e=>{if(e.length>1){alert("Please select only one image");return}let s=e[0],i={id:s.name,key:s.name,contentType:s.type,data:URL.createObjectURL(s),isProfile:!1};E({size:s.size,type:s.type,blob:URL.createObjectURL(s)}),M(i.data),Z(2),l({...t,uploadStory:{...t.uploadStory,imagesdata:i,bufferdata:URL.createObjectURL(s)}})},[]),{getRootProps:X,getInputProps:ee}=(0,h.uI)({onDrop:K,maxFiles:1});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{id:"story-section-center",className:"lg:top-0 top-20 pb-[20px] w-full lg:w-auto lg:pb-[0px] z-10 lg:z-0 bg-[white] mt-[-20px] lg:mt-0 lg:bg-none dark:bg-[#18191a] p-[5px] fixed  lg:relative left-[0px] 2xl:left-[50px] lg:left-[50px] xl:left-[60px] flex space-x-[15px]",children:[(0,s.jsx)(s.Fragment,{children:m?(0,s.jsx)(f.Z,{variant:"circular",width:47,height:47}):(0,s.jsx)(s.Fragment,{children:(null==N?void 0:N.length)>0?(0,s.jsx)("ul",{children:N.map(e=>{var t,l;return(0,s.jsx)("li",{children:(0,s.jsx)("div",{name:"currentUser",onClick:t=>U(t,e),style:{boxSizing:"content-box"},className:"w-[47px] h-[47px] cursor-pointer bg-[#FFF] rounded-full grid place-items-center border-[2px] border-[blue]",id:"story-gradient-border",children:(0,s.jsx)(d(),{alt:"user-1",width:47,height:47,style:{objectFit:"cover",borderRadius:"50%",width:"47px",height:"47px",border:"2px solid transparent"},src:(null==e?void 0:null===(t=e.userId)||void 0===t?void 0:t.profilePic)?null==e?void 0:null===(l=e.userId)||void 0===l?void 0:l.profilePic:"/assests/dashboard/user/1.svg"})})})})}):(0,s.jsx)("ul",{children:(0,s.jsx)("div",{className:"w-[47px] h-[47px] bg-[#FFF] rounded-full grid place-items-center",children:(0,s.jsxs)("div",{className:"cursor-pointer",children:[(0,s.jsx)(c.default,{size:47}),(0,s.jsx)("div",{className:"relative left-[34px] top-[-17px]",children:(0,s.jsx)(d(),{loading:"lazy",alt:"add-icon",width:18,height:18,onClick:()=>{W(!0)},src:"/assests/stories/Add-story-icon.svg"})})]})})})})}),(0,s.jsx)(a.Z,{open:I,onClose:()=>{W(!1),Z(1)},className:"flex justify-center rounded-[20px]",children:(0,s.jsx)(n.Z,{className:"dark:bg-[#18191a] rounded-[20px]",children:(0,s.jsxs)("div",{className:"space-y-[20px] rounded-[20px]",children:[(0,s.jsx)("div",{className:"lg:pb-0 pb-[20px] flex items-center justify-between space-x-[20px]",children:(0,s.jsx)("div",{children:(0,s.jsx)("h1",{style:{fontFamily:"Poppins",fontSize:"20px",fontStyle:"normal",fontWeight:"500",lineHeight:"normal"},children:"Add Story"})})}),(0,s.jsx)("div",{className:"",children:1==O?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"md:pb-[20px] lg:pb-0 flex flex-col justify-center items-center space-y-[20px] w-full h-full   md:w-[350px] md:h-[150px] lg:w-[426px] lg:h-[257px] 2xl:w-[526px] 2xl:h-[450px] xl:w-[526px] xl:h-[357px] dark:bg-[#242526] bg-[#F5F5F5] rounded-[20px]",children:[(0,s.jsxs)("div",{...X(),className:"mt-[10%] lg:mt-0 md:w-[60px] md:h-[60px] lg:w-auto lg:h-auto 2xl:w-auto 2xl:h-auto xl:w-auto xl:h-auto",children:[(0,s.jsx)("input",{...ee(),className:"hidden"}),(0,s.jsx)(d(),{loading:"lazy",alt:"drag-drop",width:63,height:44,src:"/loginassests/register-icons/Drag-Drop.svg"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{style:{fontFamily:"Poppins",fontStyle:"normal",fontWeight:"400",lineHeight:"32px"},className:"dark:text-[#FFF] 2xl:text-[24px] xl:text-[24px] lg:text-[24px] md:text-[18px]",children:"Select Photos"}),(0,s.jsx)("p",{className:"dark:text-[#FFF]",style:{fontFamily:"Poppins",fontSize:"16px",fontStyle:"normal",fontWeight:"400",lineHeight:"32px"},children:"Or drag and drop a file"})]})]})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"dark:bg-[#242526] flex flex-col justify-center items-center space-y-[90px]  md:w-[350px] md:h-[150px] lg:w-[426px] lg:h-[257px] 2xl:w-[526px] 2xl:h-[450px] xl:w-[526px] xl:h-[357px]",children:[(0,s.jsxs)("div",{className:"flex-col items-center flex items-center",children:[(0,s.jsx)("div",{className:" grid place-items-center md:w-[120px] md:h-[120px] lg:h-auto lg:w-[150px] 2xl:w-[190px] 2xl:h-[241px] xl:w-[190px] xl:h-[241px]",children:(0,s.jsx)(d(),{style:{objectFit:"cover",borderRadius:"10px"},loading:"lazy",alt:"upload",width:190,height:241,src:H})}),(0,s.jsx)("div",{onClick:()=>{Z(1),Q(""),k(!1)},className:"cursor-pointer relative top-[50px]",children:(0,s.jsx)(d(),{loading:"lazy",alt:"delete-icon",width:19.695,height:22.17,className:"w-[19.695px] h-[22.17px]",src:"/assests/Black/Delete.svg"})})]}),(0,s.jsxs)("div",{ref:S,className:"w-full",children:[(0,s.jsx)("div",{onClick:()=>k(!F),className:"absolute left-[35px] bottom-[55px]  cursor-pointer",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})})}),(0,s.jsxs)("div",{className:"flex mt-[5px]",children:[(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)("input",{name:"caption",value:$,onChange:e=>{Q(e.target.value)},placeholder:"Caption..",type:"text",className:"lg:mt-0 mt-[20px] pl-[50px] w-full h-[40px] 2xl:h-[50px] md:h-[30px] xl:h-[50px] lg:h-[40px] rounded-[25px] border-[1px] border-[#DADADA] focus:outline-none focus:border-[1px] focus:border-[black]"})}),(0,s.jsx)("div",{className:"w-[90px] grid place-items-center",children:(0,s.jsx)("div",{className:"hover:bg-[#F2F7FF]  p-[12px] rounded-full",children:(0,s.jsx)("button",{disabled:A.loading,onClick:()=>{2===O?o((0,g.O7)(B,H,T,$)):Z(O+1)},children:(0,s.jsx)(d(),{width:26,height:26,alt:"send",src:"/assests/chat/Send-Icon.svg"})})})})]}),(0,s.jsx)("div",{children:F?(0,s.jsx)("div",{className:"absolute z-[110] left-[30px] h-[300px] top-[0px]",children:(0,s.jsx)(j.default,{onEmojiClick:e=>{Q(t=>t+e.emoji)}})}):null})]})]})})})]})})}),m?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.Z,{variant:"circular",width:47,height:47})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("ul",{id:"hide-Story-scrollbar",className:"relative flex overflow-y-auto  space-x-[10px] w-[60%]",children:null==y?void 0:y.map((e,t)=>{var l,i;return(0,s.jsx)("li",{children:(0,s.jsx)("div",{name:"users-story",onClick:t=>U(t,e),style:{boxSizing:"content-box"},className:"duration-100 hover:scale-90 w-[47px] h-[47px] cursor-pointer bg-[#FFF] rounded-full grid place-items-center border-[2px] border-[blue]",children:(0,s.jsx)(d(),{alt:"user-1",width:47,height:47,style:{objectFit:"cover",borderRadius:"50%",width:"47px",height:"47px",border:"2px solid transparent"},src:(null==e?void 0:null===(l=e.userId)||void 0===l?void 0:l.profilePic)?null==e?void 0:null===(i=e.userId)||void 0===i?void 0:i.profilePic:"/assests/dashboard/user/no-profile.svg"})})},t)})})})]}),(0,s.jsx)(r.ZP,{anchor:"right",BackdropProps:{style:{opacity:0}},open:P.right,onClose:R("right",!1),children:(0,s.jsx)(v.default,{CloseBtn:R("right",!1),Storyimagesrc:L})}),J&&(0,s.jsx)(p.default,{setModalOpen:G,closeModal:()=>G(!1)})]})})},40908:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var s=l(85893),i=l(87357),r=l(65724),a=l(25675),n=l.n(a),o=l(67294),d=l(2664),c=l(45687);let x=l(30381);var p=function(e){let t=x(e,x.ISO_8601,!0);if(!t.isValid())return"Invalid date";let l=x(),s=x.duration(l.diff(t)),i=s.asSeconds(),r=s.asMinutes(),a=s.asHours();return i<60?"Just now":r<60?"".concat(Math.floor(r)," min ago"):a<24&&l.isSame(t,"day")?"Today ".concat(t.format("h:mm a")):l.subtract(1,"day").isSame(t,"day")?"Yesterday ".concat(t.format("h:mm a")):t.format("MMM D, YYYY h:mm a")},h=l(11163),u=function(e){var t,l,a,x,u,m,g,v;let{CloseBtn:f,Storyimagesrc:j}=e,y={color:"#FFF",fontFamily:"Poppins",fontSize:"18px",fontStyle:"normal",fontWeight:"600",lineHeight:"normal"},[w,b]=o.useState(null),N=!!w,F={fontFamily:"Poppins",fontStyle:"normal",fontWeight:"400",lineHeight:"normal"},k=e=>{b(e.currentTarget)},S=(0,d.I0)(),C=e=>{S((0,c.cS)(e.id)),f()},[L,z]=(0,o.useState)(!1),P=(0,h.useRouter)(),D=e=>{var t,l,s,i;switch(null==e?void 0:e.storyViewType){case"users-story":return P.push("/longterm/dashboard/".concat((null==e?void 0:null===(l=e.Data)||void 0===l?void 0:null===(t=l.userId)||void 0===t?void 0:t.id)||(null==e?void 0:null===(i=e.Data)||void 0===i?void 0:null===(s=i.userId)||void 0===s?void 0:s._id)));case"currentUser":return P.push("/longterm/dashboard/profile");default:return null}},{data:R,loading:U}=(0,d.v9)(e=>e.storyviews);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.Z,{sx:{backgroundColor:"black"},className:"w-[full] h-full lg:h-auto 2xl:w-[799px] xl:w-[699px]",children:(0,s.jsxs)("div",{className:"bg-[black] w-full 2xl:h-[100vh] xl:h-[100vh] space-y-[20px]",children:[(0,s.jsxs)("div",{className:"flex justify-between pt-[20px]",children:[(0,s.jsxs)("div",{className:"pl-[40px] flex items-center space-x-[20px]",children:[(0,s.jsx)(n(),{onClick:()=>D(j),alt:"request",width:47,height:47,className:"w-[47px] h-[47px] cursor-pointer",style:{borderRadius:"50%",objectFit:"cover"},src:(null==j?void 0:j.Data)?null==j?void 0:null===(l=j.Data)||void 0===l?void 0:null===(t=l.userId)||void 0===t?void 0:t.profilePic:"/assests/dashboard/request/req-3.svg"}),(0,s.jsxs)("div",{className:"text-left text-[#FFF]",children:[(0,s.jsx)("h1",{style:{fontFamily:"Poppins",fontStyle:"normal",fontWeight:"600",lineHeight:"normal"},className:"text-[14px] cursor-pointer",onClick:()=>D(j),children:(null==j?void 0:j.Data)?null==j?void 0:j.Data.userId.name:"NA"}),(0,s.jsx)("p",{style:{fontFamily:"Poppins",fontSize:"12px",fontStyle:"normal",fontWeight:"400",lineHeight:"normal"},children:p((null==j?void 0:j.Data)?null===(a=j.Data)||void 0===a?void 0:a.statusAddTime:"NA")})]})]}),(0,s.jsx)("div",{className:"flex items-center pr-[40px]",children:L?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"group cursor-pointer",onClick:()=>z(!1),children:[(0,s.jsx)("div",{className:"absolute opacity-[0.2] h-[40px] w-[40px] right-[35px] mt-[-5px] rounded-full group-hover:bg-[#F2F7FF] p-[5px]"}),(0,s.jsx)(n(),{alt:"img",className:"cursor-pointer",width:30,height:30,onClick:()=>z(!1),src:"/assests/dashboard/story/arrow-left.svg"})]})}):(0,s.jsx)(s.Fragment,{children:(null==j?void 0:j.storyViewType)=="currentUser"?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{onClick:e=>k(e),className:"group cursor-pointer",children:[(0,s.jsx)("div",{className:"absolute opacity-[0.2] h-[40px] w-[40px] right-[34px] mt-[-5px] rounded-full group-hover:bg-[#F2F7FF] p-[5px]"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"white",className:"w-[30px] h-[30px]",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})})]}),(0,s.jsx)(r.ZP,{id:N?"simple-popover":void 0,open:N,anchorEl:w,onClose:()=>{b(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",borderRadius:"10px",marginLeft:"10px",marginTop:"20px"}},children:(0,s.jsx)("div",{className:"bg-[#FFF] rounded-[10px] w-[128px] h-[80px]",children:(0,s.jsxs)("ul",{className:"flex flex-col justify-center space-y-[4px]  ",children:[(0,s.jsxs)("li",{style:F,className:"p-[5px] pl-[10px] cursor-pointer hover:bg-[#F2F7FF] flex  items-center space-x-[12px] text-[14px] mt-[8px]",onClick:f,children:[" ",(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-[15px] h-[15px]",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})," ",(0,s.jsx)("p",{children:"Close"})]}),(0,s.jsxs)("li",{style:F,className:"p-[5px] pl-[10px] cursor-pointer hover:bg-[#F2F7FF] flex  items-center space-x-[12px] text-[14px] ",onClick:()=>C(j.Data),children:[" ",(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 23 23",strokeWidth:1.5,stroke:"currentColor",className:"w-[15px] h-[15px]",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})," ",(0,s.jsx)("p",{children:"Delete"})]})]})})})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"group cursor-pointer",onClick:f,children:[(0,s.jsx)("div",{className:"absolute opacity-[0.2] h-[40px] w-[40px] right-[30px] mt-[-9px] rounded-full group-hover:bg-[#F2F7FF] p-[5px]"}),(0,s.jsx)(n(),{alt:"cross-icon",width:20,height:20,className:"cursor-pointer",src:"/assests/dashboard/story/cross-icon.svg"})]})})})})]}),L?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"pt-[16px]",children:(null==R?void 0:null===(x=R.results)||void 0===x?void 0:x.length)>0?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"h-full lg:h-[full] 2xl:w-auto 2xl:h-[500px] xl:h-[350px]",children:(0,s.jsx)("div",{className:"flex flex-col items-center space-y-[10px]",children:null==R?void 0:null===(u=R.results)||void 0===u?void 0:u.map((e,t)=>{var l,i;return(0,s.jsxs)("div",{onClick:()=>{var t;return P.push("/longterm/dashboard/".concat(null==e?void 0:null===(t=e.viewerId)||void 0===t?void 0:t.id))},className:"flex justify-between items-center w-[80%] cursor-pointer duration-100 hover:opacity-70 hover:bg-[#383838] bg-[#1E1E1E] rounded-[10px] p-[20px]",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-[29px]",children:[(0,s.jsx)("div",{className:"ml-[12px]",children:(0,s.jsx)(n(),{width:47,height:47,src:null==e?void 0:null===(l=e.viewerId)||void 0===l?void 0:l.profilePic,style:{objectFit:"cover",borderRadius:"50%",width:"45px",height:"45px"}})}),(0,s.jsx)("div",{children:(0,s.jsx)("h1",{style:y,className:"cursor-pointer",children:null==e?void 0:null===(i=e.viewerId)||void 0===i?void 0:i.name})})]}),(0,s.jsx)("div",{className:"group",children:(0,s.jsx)(n(),{width:30,height:30,src:"/assests/stories/Stories-UserIcon.svg"})})]})})})})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"w-full 2xl:h-[50vh] xl:h-[40vh] h-[50vh] grid place-items-center",children:(0,s.jsx)("div",{children:(0,s.jsx)("p",{style:{fontFamily:"Poppins",fontStyle:"normal",fontWeight:"600",lineHeight:"normal"},className:"text-[12px] text-center text-[#FFF]",children:"No one views Yet"})})})})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-center space-x-[90px] pt-[20px]",children:[(0,s.jsx)("div",{className:" flex items-center",children:(0,s.jsx)(n(),{alt:"img",width:48,height:48,src:"/assests/dashboard/story/arrow-left.svg"})}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)(n(),{alt:"img",width:346,height:450,style:{width:"400px",objectFit:"cover"},className:"h-full lg:h-[full]  2xl:h-[450px] xl:h-[350px]",src:null==j?void 0:null===(m=j.Data)||void 0===m?void 0:m.content})}),(0,s.jsx)("div",{className:" flex items-center",children:(0,s.jsx)(n(),{alt:"img",width:48,height:48,src:"/assests/dashboard/story/arrow-right.svg"})})]}),(0,s.jsx)("div",{className:"text-center text-[white]",children:(0,s.jsx)("h1",{style:{fontFamily:"Poppins",fontSize:"18px",fontStyle:"normal",fontWeight:"400",lineHeight:"normal"},children:(null==j?void 0:null===(g=j.Data)||void 0===g?void 0:g.caption)?null==j?void 0:null===(v=j.Data)||void 0===v?void 0:v.caption:""})})]}),(null==j?void 0:j.storyViewType)=="currentUser"?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"w-full grid place-items-center",children:(0,s.jsxs)("div",{className:"cursor-pointer flex justify-center absolute items-center bottom-[30px] space-x-[10px]",children:[(0,s.jsx)(n(),{onClick:()=>z(!L),width:22,height:15,src:"/assests/stories/Story-countview.svg"}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:"text-[white]",children:null==R?void 0:R.totalResults})})]})})}):null]})})})}},67455:function(e,t,l){l.r(t),t.default=(e,t,l)=>{{let s=t.getContext("2d");if(!s){console.error("Canvas context is not available");return}let i=window.devicePixelRatio,r=e.naturalWidth/e.width,a=e.naturalHeight/e.height;t.width=Math.floor(l.width*r*i),t.height=Math.floor(l.height*a*i),s.scale(i,i),s.imageSmoothingQuality="high",s.save();let n=l.x*r,o=l.y*a;s.translate(-n,-o),s.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,e.naturalWidth,e.naturalHeight),s.restore()}}},84891:function(e,t,l){l.r(t);var s=l(85893),i=l(67294),r=l(82084);l(77929);var a=l(2664),n=l(67455),o=l(25675),d=l.n(o);t.default=e=>{let{setModalOpen:t,closeModal:l,updateAvatar:o}=e,c=(0,i.useRef)(null),x=(0,i.useRef)(null),[p,h]=(0,i.useState)(""),[u,m]=(0,i.useState)({aspect:1,unit:"%",width:100,height:100}),[g,v]=(0,i.useState)(""),[f,j]=(0,i.useState)(),[y,w]=(0,i.useState)(!0),b=e=>{var t;e.target.files.length>0&&w(!1);let l=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!l)return;let s=new FileReader;s.addEventListener("load",()=>{var e;URL.createObjectURL(l),j(l),l.type,l.name,l.size;let t=new(d()),i=(null===(e=s.result)||void 0===e?void 0:e.toString())||"";t.src=i,t.addEventListener("load",e=>{g&&v("");let{naturalWidth:t,naturalHeight:l}=e.currentTarget;if(t<100||l<100)return v("Image must be at least 150 x 150 pixels."),h("")}),h(i)}),s.readAsDataURL(l)},N=(0,a.v9)(e=>e.usersact.profileimageupdate);return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"grid place-items-center",children:(0,s.jsx)("div",{className:"2xl:w-[540px]  xl:w-[540px]  w-[90%]",children:(0,s.jsxs)("ul",{className:"flex justify-between",children:[(0,s.jsx)("li",{children:(0,s.jsx)("h1",{className:"",style:{fontFamily:"Poppins",fontSize:"18px",fontStyle:"normal",fontWeight:"500",lineHeight:"normal"},children:"Upload Photo"})}),(0,s.jsx)("li",{children:(0,s.jsx)("img",{alt:"close-icon",className:"w-[24px] h-[24px] cursor-pointer",onClick:l,src:"/assests/social/close.svg"})})]})})}),y&&(0,s.jsx)("div",{className:"md:pb-[20px] lg:pb-0 flex flex-col justify-center items-center space-y-[20px] w-full h-full   md:w-[350px] md:h-[150px] lg:w-[426px] lg:h-[230px] 2xl:w-[526px] 2xl:h-[330px] xl:w-[526px] xl:h-[330px] bg-[#F5F5F5] rounded-[10px]",children:(0,s.jsxs)("label",{htmlFor:"dropzone-file",children:[(0,s.jsx)("input",{id:"dropzone-file",className:"cursor-pointer opacity-0 absolute",type:"file",accept:"image/*",onChange:b}),(0,s.jsx)("div",{className:"mt-[10%] lg:mt-0 md:w-[60px] md:h-[60px] lg:w-auto lg:h-auto 2xl:w-auto 2xl:h-auto xl:w-auto xl:h-auto",children:(0,s.jsx)(d(),{alt:"drag-drop",width:63,height:44,src:"/loginassests/register-icons/Drag-Drop.svg"})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{style:{color:"#000",textAlign:"center",fontFamily:"Poppins",fontStyle:"normal",fontWeight:"400",lineHeight:"normal"},className:"2xl:text-[24px] xl:text-[24px] lg:text-[24px] md:text-[18px]",children:"Select Photos"}),(0,s.jsx)("p",{style:{color:"#000",textAlign:"center",fontFamily:"Poppins",fontStyle:"normal",fontWeight:"400",lineHeight:"32px"},children:"Or drag and drop a file"})]})]})}),g&&(0,s.jsx)("p",{className:"text-red-400 text-xs",children:g}),p&&(0,s.jsxs)("div",{className:"grid place-items-center relative top-[40px]",children:[(0,s.jsxs)("div",{className:"2xl:w-[540px] 2xl:h-[325px] xl:w-[540px] xl:h-[325px] w-[90%] h-[325px] bg-[#000] rounded-[10px]",children:[(0,s.jsx)("div",{className:"grid place-items-center",children:(0,s.jsx)(r.ZP,{crop:u,onChange:(e,t)=>m(t),circularCrop:!0,keepSelection:!0,aspect:1,minWidth:100,children:(0,s.jsx)("img",{ref:c,src:p,alt:"Upload",style:{maxHeight:"325px"},onLoad:e=>{let{width:t,height:l}=e.currentTarget,s=100/t*100,i=(0,r.YG)({unit:"%",width:s},1,t,l),a=(0,r._H)(i,t,l);m(a)}})})}),(0,s.jsx)("div",{className:"text-center pt-[20px]",children:(0,s.jsx)("h1",{style:{color:"#606060",fontFamily:"Poppins",fontSize:"10px",fontStyle:"normal",fontWeight:"400",lineHeight:"normal"},children:"Adjust the round object to set your photo"})})]}),(0,s.jsxs)("div",{className:"flex justify-center relative top-[80px] space-x-[30px]",children:[(0,s.jsxs)("button",{className:"cursor-pointer w-[125px] h-[49px] rounded-[10px]  bg-[#FFF] border-[1px] border-[black]",children:[(0,s.jsx)("input",{className:"cursor-pointer w-[100px] opacity-0 absolute",type:"file",accept:"image/*",onChange:b}),"Change"]}),(0,s.jsxs)("button",{id:"grad-button",className:"cursor-pointer w-[125px] h-[49px] rounded-[10px]",onClick:()=>{(0,n.default)(c.current,x.current,(0,r.BB)(u,c.current.width,c.current.height));let e=x.current;e.toBlob(e=>{e&&(URL.createObjectURL(e),f.name,f.type,e.size,e.type,URL.createObjectURL(e))},"image/jpeg")},children:["Upload",N.loading?(0,s.jsx)("img",{alt:"loader",width:25,height:25,className:" w-[25px] h-[25px] animate-spin inline relative left-[5px]",src:"/assests/animation/loaderIcon.svg"}):""]})]})]}),(0,s.jsx)("canvas",{ref:x,style:{display:"none"},width:100,height:100})]})}},78454:function(e,t,l){l.r(t);var s=l(85893),i=l(84891);t.default=e=>{let{setModalOpen:t,updateAvatar:l,closeModal:r}=e;return(0,s.jsxs)("div",{className:"relative z-[101]","aria-labelledby":"crop-image-dialog",role:"dialog","aria-modal":"true",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-[black] bg-opacity-30 transition-all "}),(0,s.jsx)("div",{className:"grid place-items-center",children:(0,s.jsx)("div",{className:"ml-[50px]  fixed inset-0 z-10 w-[90%] overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-[600px] justify-center px-2 py-12 text-center ",children:(0,s.jsx)("div",{className:"relative w-[95%] sm:w-[50%] min-h-[554px] rounded-2xl bg-[#FFF] text-slate-100 text-left shadow-xl transition-all",children:(0,s.jsxs)("div",{className:"px-5 py-4",children:[(0,s.jsx)("button",{type:"button",className:"rounded-md p-1 inline-flex items-center justify-center text-gray-400 hover:bg-gray-700 focus:outline-none absolute top-2 right-2",onClick:r,children:(0,s.jsx)("span",{className:"sr-only",children:"Close menu"})}),(0,s.jsx)(i.default,{updateAvatar:l,closeModal:r,setModalOpen:t})]})})})})})]})}}}]);